<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurion Finance - Premium USDT Investment Platform</title>
    <link rel="icon" type="image/png" href="https://files.catbox.moe/3o41t1.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bignumber.js@9.1.2/bignumber.min.js"></script>
    <style>
        :root {
            --primary-black: #0A0A0A;
            --secondary-black: #1A1A1A;
            --tertiary-black: #2A2A2A;
            --primary-gold: #D4AF37;
            --secondary-gold: #FFD700;
            --accent-gold: #F5D76E;
            --light-gold: #FFF9E6;
            --white: #FFFFFF;
            --gray-100: #F5F5F5;
            --gray-200: #E5E5E5;
            --gray-300: #D4D4D3;
            --gray-400: #A3A3A3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
            --gray-900: #171717;

            --gradient-gold: linear-gradient(135deg, var(--primary-gold) 0%, var(--secondary-gold) 100%);
            --gradient-dark: linear-gradient(135deg, var(--primary-black) 0%, var(--secondary-black) 100%);
            --gradient-card: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            --gradient-elegant: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(255, 215, 0, 0.08) 100%);

            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
            --shadow-gold: 0 0 20px rgba(212, 175, 55, 0.3);
            --shadow-gold-lg: 0 0 40px rgba(212, 175, 55, 0.4);
            --shadow-elegant: 0 8px 32px rgba(0, 0, 0, 0.2);

            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-heading: 'Montserrat', sans-serif;
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
            --font-size-5xl: 3rem;
            --font-size-6xl: 3.75rem;

            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            --spacing-3xl: 4rem;
            --spacing-4xl: 6rem;

            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-3xl: 2rem;

            --transition-fast: 0.15s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-primary);
            background: var(--primary-black);
            color: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        /* Enhanced Preloader */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-black);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity var(--transition-slow);
        }

        .preloader.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }

        .gold-bar {
            width: 6px;
            height: 30px;
            background: var(--gradient-gold);
            border-radius: var(--radius-sm);
            animation: loader 1.2s ease-in-out infinite;
            box-shadow: var(--shadow-gold);
        }

        .gold-bar:nth-child(2) { animation-delay: 0.1s; }
        .gold-bar:nth-child(3) { animation-delay: 0.2s; }
        .gold-bar:nth-child(4) { animation-delay: 0.3s; }
        .gold-bar:nth-child(5) { animation-delay: 0.4s; }

        @keyframes loader {
            0%, 40%, 100% { transform: scaleY(1); }
            20% { transform: scaleY(2.5); }
        }

        .preloader-text {
            font-family: var(--font-heading);
            font-size: var(--font-size-xl);
            color: var(--primary-gold);
            letter-spacing: 2px;
            font-weight: 600;
        }

        /* Enhanced Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            z-index: 1000;
            transition: all var(--transition-normal);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
        }

        .nav__logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        /* Logo diperkecil */
        .logo {
            width: 35px; /* Diperkecil dari 45px */
            height: 35px; /* Diperkecil dari 45px */
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
        }

        .logo__text {
            font-family: var(--font-heading);
            font-size: var(--font-size-lg); /* Diperkecil dari xl */
            font-weight: 700;
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
        }

        .nav__menu {
            display: flex;
            align-items: center;
            gap: var(--spacing-2xl);
        }

        .nav__list {
            display: flex;
            gap: var(--spacing-xl);
            list-style: none;
        }

        .nav__link {
            color: var(--gray-300);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--transition-fast);
            position: relative;
            cursor: pointer;
            font-size: var(--font-size-sm);
            letter-spacing: 0.5px;
        }

        .nav__link:hover,
        .nav__link.active {
            color: var(--primary-gold);
        }

        .nav__link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--gradient-gold);
            box-shadow: var(--shadow-gold);
        }

        .nav__toggle {
            display: none;
            font-size: var(--font-size-xl);
            cursor: pointer;
            color: var(--primary-gold);
        }

        /* Enhanced Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-xl);
            border: none;
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }

        .btn--primary {
            background: var(--gradient-gold);
            color: var(--primary-black);
            box-shadow: var(--shadow-gold);
        }

        .btn--primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-gold-lg);
        }

        .btn--outline {
            background: transparent;
            color: var(--white);
            border: 2px solid var(--primary-gold);
        }

        .btn--outline:hover {
            background: rgba(212, 175, 55, 0.1);
            transform: translateY(-2px);
        }

        .btn--secondary {
            background: var(--tertiary-black);
            color: var(--white);
            border: 1px solid var(--gray-600);
        }

        .btn--secondary:hover {
            background: var(--gray-700);
            transform: translateY(-2px);
        }

        .btn i {
            font-size: var(--font-size-lg);
        }

        .btn-sm {
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: var(--font-size-sm);
        }

        .btn-lg {
            padding: var(--spacing-lg) var(--spacing-2xl);
            font-size: var(--font-size-lg);
        }

        /* Enhanced Sections */
        .section {
            padding: var(--spacing-4xl) 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .section__title {
            font-family: var(--font-heading);
            font-size: var(--font-size-5xl);
            text-align: center;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .section__subtitle {
            font-size: var(--font-size-xl);
            text-align: center;
            color: var(--gray-400);
            margin-bottom: var(--spacing-3xl);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
        }

        .gradient-text {
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Enhanced Hero Section */
        .hero {
            padding-top: 120px;
            background: var(--gradient-dark);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(212, 175, 55, 0.15) 0%, transparent 70%);
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary-gold), transparent);
        }

        .hero__container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-3xl);
            align-items: center;
        }

        .hero__badge {
            margin-bottom: var(--spacing-lg);
        }

        .badge {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-md);
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid var(--primary-gold);
            border-radius: var(--radius-lg);
            color: var(--primary-gold);
            font-size: var(--font-size-sm);
            font-weight: 600;
            letter-spacing: 1px;
        }

        .hero__title {
            font-family: var(--font-heading);
            font-size: var(--font-size-6xl);
            margin-bottom: var(--spacing-lg);
            line-height: 1.1;
            letter-spacing: 1px;
            font-weight: 800;
        }

        .hero__description {
            font-size: var(--font-size-xl);
            color: var(--gray-300);
            margin-bottom: var(--spacing-2xl);
            max-width: 500px;
            line-height: 1.7;
        }

        .hero__buttons {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-3xl);
        }

        .hero__stats {
            display: flex;
            gap: var(--spacing-2xl);
        }

        .stat {
            text-align: center;
        }

        .stat__value {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--primary-gold);
            margin-bottom: var(--spacing-xs);
            font-family: var(--font-heading);
        }

        .stat__label {
            font-size: var(--font-size-sm);
            color: var(--gray-400);
            letter-spacing: 0.5px;
        }

        .hero__image {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .floating-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow-elegant);
            animation: float 6s ease-in-out infinite;
            width: 100%;
            max-width: 400px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .card__header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .card__header h3 {
            margin: 0;
            color: var(--white);
            font-size: var(--font-size-lg);
            font-weight: 600;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: var(--font-size-sm);
            color: var(--primary-gold);
            font-weight: 600;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: var(--primary-gold);
            border-radius: 50%;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px var(--primary-gold);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-item .value {
            color: var(--primary-gold);
            font-weight: 600;
        }

        /* Enhanced Dashboard Section */
        .dashboard-section {
            background: var(--secondary-black);
        }

        .dashboard-content {
            display: none;
        }

        .dashboard-content.active {
            display: block;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-3xl);
        }

        .stat-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .stat-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-gold-lg);
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            background: var(--gradient-gold);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-2xl);
            color: var(--primary-black);
            box-shadow: var(--shadow-gold);
        }

        .stat-value {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--primary-gold);
            margin-bottom: var(--spacing-xs);
            font-family: var(--font-heading);
        }

        .stat-label {
            color: var(--gray-400);
            font-size: var(--font-size-sm);
            letter-spacing: 0.5px;
        }

        .action-buttons {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-3xl);
            flex-wrap: wrap;
        }

        /* NEW: Active Investment Plans Section */
        .active-plans-section {
            margin-bottom: var(--spacing-3xl);
        }

        .active-plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .active-plan-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-xl);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .active-plan-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-gold-lg);
        }

        .active-plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .active-plan-name {
            font-size: var(--font-size-lg);
            font-weight: 600;
            color: var(--white);
        }

        .active-plan-status {
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: 600;
            background: rgba(16, 185, 129, 0.1);
            color: #10B981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .active-plan-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
        }

        .active-plan-detail {
            text-align: center;
        }

        .active-plan-label {
            font-size: var(--font-size-sm);
            color: var(--gray-400);
            margin-bottom: var(--spacing-xs);
        }

        .active-plan-value {
            font-size: var(--font-size-lg);
            font-weight: 600;
            color: var(--primary-gold);
        }

        .investments-table {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            margin-bottom: var(--spacing-3xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .investments-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .investments-table th,
        .investments-table td {
            padding: var(--spacing-lg);
            text-align: left;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .investments-table th {
            background: rgba(212, 175, 55, 0.1);
            color: var(--primary-gold);
            font-weight: 600;
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .investments-table td {
            color: var(--gray-300);
        }

        .investments-table tr:last-child td {
            border-bottom: none;
        }

        .investments-table tr:hover {
            background: rgba(212, 175, 55, 0.05);
        }

        .status-badge {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .status-active {
            background: rgba(16, 185, 129, 0.1);
            color: #10B981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-completed {
            background: rgba(156, 163, 175, 0.1);
            color: #9CA3AF;
            border: 1px solid rgba(156, 163, 175, 0.3);
        }

        .empty-state {
            text-align: center;
            padding: var(--spacing-4xl);
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .empty-icon {
            width: 100px;
            height: 100px;
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-3xl);
            color: var(--primary-black);
            margin: 0 auto var(--spacing-lg);
            box-shadow: var(--shadow-gold);
        }

        .empty-state h3 {
            margin-bottom: var(--spacing-md);
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-2xl);
        }

        .empty-state p {
            color: var(--gray-400);
            margin-bottom: var(--spacing-xl);
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Enhanced Invest Section */
        .invest-section {
            background: var(--primary-black);
        }

        .investment-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: var(--spacing-2xl);
            margin-bottom: var(--spacing-3xl);
        }

        .plan-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            text-align: center;
            transition: all var(--transition-normal);
            position: relative;
            cursor: pointer;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .plan-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-10px);
            box-shadow: var(--shadow-gold-lg);
        }

        .plan-card.featured {
            border-color: var(--primary-gold);
            box-shadow: var(--shadow-gold-lg);
            transform: scale(1.05);
        }

        .plan-card.featured::before {
            content: 'RECOMMENDED';
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--gradient-gold);
            color: var(--primary-black);
            padding: var(--spacing-xs) var(--spacing-lg);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            font-weight: 700;
            letter-spacing: 1px;
            box-shadow: var(--shadow-gold);
        }

        .plan-card.featured:hover {
            transform: scale(1.05) translateY(-10px);
        }

        .plan-badge {
            position: absolute;
            top: var(--spacing-lg);
            right: var(--spacing-lg);
            background: rgba(212, 175, 55, 0.1);
            color: var(--primary-gold);
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .plan-name {
            font-size: var(--font-size-xl);
            margin-bottom: var(--spacing-md);
            color: var(--white);
            font-family: var(--font-heading);
        }

        .plan-roi {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--primary-gold);
            margin-bottom: var(--spacing-md);
            font-family: var(--font-heading);
        }

        .plan-range {
            background: rgba(212, 175, 55, 0.1);
            padding: var(--spacing-md);
            border-radius: var(--radius-lg);
            margin: var(--spacing-lg) 0;
            font-weight: 600;
            color: var(--primary-gold);
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .plan-duration {
            color: var(--gray-400);
            margin-bottom: var(--spacing-md);
            font-size: var(--font-size-sm);
        }

        .plan-total {
            font-size: var(--font-size-lg);
            color: var(--light-gold);
            margin-bottom: var(--spacing-xl);
            font-weight: 600;
        }

        .plan-features {
            list-style: none;
            margin: var(--spacing-lg) 0;
            text-align: left;
            flex-grow: 1;
        }

        .plan-features li {
            padding: var(--spacing-sm) 0;
            color: var(--gray-300);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            display: flex;
            align-items: center;
        }

        .plan-features li:last-child {
            border-bottom: none;
        }

        .plan-features li i {
            color: var(--primary-gold);
            margin-right: var(--spacing-sm);
            font-size: var(--font-size-sm);
        }

        .investment-form-container {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-3xl);
            margin-bottom: var(--spacing-3xl);
            display: none;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .investment-form-container.active {
            display: block;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-2xl);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .form-header h2 {
            margin: 0;
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-3xl);
        }

        .investment-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: var(--spacing-xl);
        }

        .form-group label {
            display: block;
            margin-bottom: var(--spacing-sm);
            color: var(--white);
            font-weight: 600;
            font-size: var(--font-size-lg);
        }

        .form-input {
            width: 100%;
            padding: var(--spacing-lg);
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: var(--radius-lg);
            color: var(--white);
            font-size: var(--font-size-base);
            transition: all var(--transition-normal);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .amount-range {
            margin-top: var(--spacing-sm);
            font-size: var(--font-size-sm);
            color: var(--gray-400);
        }

        .plan-summary {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            color: var(--white);
        }

        .plan-summary .plan-name {
            font-size: var(--font-size-lg);
            margin-bottom: var(--spacing-sm);
        }

        .plan-summary .plan-roi {
            font-size: var(--font-size-xl);
            margin-bottom: var(--spacing-sm);
        }

        .investment-summary {
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin: var(--spacing-2xl) 0;
        }

        .investment-summary h3 {
            margin-bottom: var(--spacing-lg);
            color: var(--white);
            text-align: center;
            font-family: var(--font-heading);
            font-size: var(--font-size-xl);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            color: var(--gray-300);
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-item.total {
            font-weight: 700;
            color: var(--primary-gold);
            font-size: var(--font-size-lg);
        }

        /* Enhanced Investment Success Popup */
        .investment-success-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
        }

        .investment-success-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .investment-success {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-3xl);
            text-align: center;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
            transform: scale(0.9);
            transition: transform var(--transition-normal);
        }

        .investment-success-popup.active .investment-success {
            transform: scale(1);
        }

        .success-icon {
            width: 120px;
            height: 120px;
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-4xl);
            color: var(--primary-black);
            margin: 0 auto var(--spacing-xl);
            box-shadow: var(--shadow-gold);
        }

        .investment-success h2 {
            margin-bottom: var(--spacing-lg);
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-3xl);
        }

        .investment-success p {
            color: var(--gray-400);
            margin-bottom: var(--spacing-2xl);
            line-height: 1.6;
            font-size: var(--font-size-lg);
        }

        .success-actions {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Enhanced Referral Section */
        .referral-section {
            background: var(--secondary-black);
        }

        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-3xl);
        }

        .referral-link-container {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-3xl);
            margin-bottom: var(--spacing-3xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .link-display {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .link-input {
            flex: 1;
            padding: var(--spacing-lg);
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: var(--radius-lg);
            color: var(--white);
            font-size: var(--font-size-base);
        }

        .social-share {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
        }

        .social-btn {
            width: 60px;
            height: 60px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-lg);
            color: var(--primary-gold);
            font-size: var(--font-size-xl);
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .social-btn:hover {
            background: var(--primary-gold);
            color: var(--primary-black);
            transform: translateY(-5px);
            box-shadow: var(--shadow-gold);
        }

        .levels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-2xl);
            margin-bottom: var(--spacing-3xl);
        }

        .level-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            text-align: center;
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .level-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-10px);
            box-shadow: var(--shadow-gold-lg);
        }

        .level-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .level-number {
            width: 50px;
            height: 50px;
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-black);
            font-weight: 700;
            font-size: var(--font-size-xl);
            box-shadow: var(--shadow-gold);
        }

        .level-commission {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--primary-gold);
            font-family: var(--font-heading);
        }

        .level-requirements {
            margin-bottom: var(--spacing-lg);
        }

        .requirement {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
            color: var(--gray-300);
            font-size: var(--font-size-sm);
        }

        .requirement i {
            color: var(--primary-gold);
        }

        .level-stats {
            background: rgba(10, 10, 10, 0.8);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
        }

        .level-stats .stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--gray-300);
            font-size: var(--font-size-sm);
        }

        .bonus-claim-section {
            margin-bottom: var(--spacing-3xl);
        }

        .claim-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-3xl);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--spacing-2xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .claim-info h3 {
            margin-bottom: var(--spacing-sm);
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-2xl);
        }

        .claim-info p {
            color: var(--gray-400);
            margin-bottom: var(--spacing-md);
            line-height: 1.6;
        }

        .bonus-amount {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            color: var(--primary-gold);
            font-family: var(--font-heading);
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-2xl);
        }

        .step-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            text-align: center;
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .step-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-10px);
        }

        .step-number {
            width: 70px;
            height: 70px;
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-black);
            font-weight: 700;
            font-size: var(--font-size-2xl);
            margin: 0 auto var(--spacing-lg);
            box-shadow: var(--shadow-gold);
        }

        .step-card h3 {
            margin-bottom: var(--spacing-md);
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-xl);
        }

        .step-card p {
            color: var(--gray-300);
            line-height: 1.6;
        }

        /* Enhanced NEW SECTIONS: Whitepaper, Audit, FAQ */
        .resources-section {
            background: var(--primary-black);
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-2xl);
            margin-bottom: var(--spacing-3xl);
        }

        .resource-card {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            text-align: center;
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-elegant);
        }

        .resource-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-10px);
            box-shadow: var(--shadow-gold-lg);
        }

        .resource-icon {
            width: 90px;
            height: 90px;
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-3xl);
            color: var(--primary-black);
            margin: 0 auto var(--spacing-lg);
            box-shadow: var(--shadow-gold);
        }

        .resource-card h3 {
            margin-bottom: var(--spacing-md);
            color: var(--white);
            font-family: var(--font-heading);
            font-size: var(--font-size-xl);
        }

        .resource-card p {
            color: var(--gray-300);
            margin-bottom: var(--spacing-xl);
            flex-grow: 1;
            line-height: 1.6;
        }

        /* Enhanced Whitepaper Section */
        .whitepaper-section {
            background: var(--secondary-black);
        }

        .whitepaper-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .whitepaper-content {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-4xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .whitepaper-chapter {
            margin-bottom: var(--spacing-3xl);
            padding-bottom: var(--spacing-2xl);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .whitepaper-chapter:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .chapter-title {
            font-size: var(--font-size-2xl);
            color: var(--primary-gold);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            font-family: var(--font-heading);
        }

        .chapter-title i {
            font-size: var(--font-size-xl);
        }

        .chapter-content {
            color: var(--gray-300);
            line-height: 1.8;
        }

        .chapter-content p {
            margin-bottom: var(--spacing-lg);
        }

        .chapter-content ul, .chapter-content ol {
            margin-left: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
        }

        .chapter-content li {
            margin-bottom: var(--spacing-sm);
        }

        .investment-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--spacing-lg) 0;
            background: rgba(10, 10, 10, 0.8);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-elegant);
        }

        .investment-table th {
            background: rgba(212, 175, 55, 0.2);
            color: var(--primary-gold);
            padding: var(--spacing-md);
            text-align: left;
            font-weight: 600;
        }

        .investment-table td {
            padding: var(--spacing-md);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            color: var(--gray-300);
        }

        .investment-table tr:last-child td {
            border-bottom: none;
        }

        .investment-table tr:hover {
            background: rgba(212, 175, 55, 0.05);
        }

        .formula-box {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
            text-align: center;
            font-family: monospace;
            font-size: var(--font-size-lg);
            color: var(--primary-gold);
        }

        /* Enhanced Audit Report Section */
        .audit-section {
            background: var(--primary-black);
        }

        .audit-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .audit-content {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-4xl);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .audit-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-3xl);
        }

        .audit-metric {
            text-align: center;
            padding: var(--spacing-xl);
            background: rgba(10, 10, 10, 0.8);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(212, 175, 55, 0.2);
            box-shadow: var(--shadow-elegant);
        }

        .audit-value {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--primary-gold);
            margin-bottom: var(--spacing-sm);
            font-family: var(--font-heading);
        }

        .audit-label {
            color: var(--gray-400);
            font-size: var(--font-size-sm);
            letter-spacing: 0.5px;
        }

        .audit-finding {
            background: rgba(10, 10, 10, 0.8);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
            border-left: 4px solid var(--primary-gold);
            box-shadow: var(--shadow-elegant);
        }

        .finding-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }

        .finding-title {
            font-size: var(--font-size-lg);
            color: var(--white);
            font-weight: 600;
        }

        .finding-severity {
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .severity-low {
            background: rgba(16, 185, 129, 0.1);
            color: #10B981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .severity-medium {
            background: rgba(245, 158, 11, 0.1);
            color: #F59E0B;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .severity-high {
            background: rgba(239, 68, 68, 0.1);
            color: #EF4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .finding-description {
            color: var(--gray-300);
            line-height: 1.6;
        }

        .verification-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            background: rgba(16, 185, 129, 0.1);
            color: #10B981;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-lg);
            font-weight: 600;
            margin-right: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* Enhanced FAQ Section */
        .faq-section {
            background: var(--secondary-black);
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--gradient-elegant);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: var(--radius-xl);
            margin-bottom: var(--spacing-lg);
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-elegant);
        }

        .faq-question {
            padding: var(--spacing-xl);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .faq-question:hover {
            background: rgba(212, 175, 55, 0.05);
        }

        .faq-question h3 {
            margin: 0;
            color: var(--white);
            font-size: var(--font-size-lg);
            font-weight: 600;
        }

        .faq-icon {
            color: var(--primary-gold);
            transition: transform var(--transition-normal);
            font-size: var(--font-size-lg);
        }

        .faq-answer {
            padding: 0 var(--spacing-xl);
            max-height: 0;
            overflow: hidden;
            transition: all var(--transition-normal);
            color: var(--gray-300);
            line-height: 1.6;
        }

        .faq-item.active .faq-answer {
            padding: 0 var(--spacing-xl) var(--spacing-xl);
            max-height: 500px;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        /* Enhanced Wallet Connection */
        .wallet-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
        }

        .connected {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .connected.active {
            display: flex;
        }

        .connected-status {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--primary-gold);
        }

        .wallet-address {
            background: rgba(2, 12, 27, 0.7);
            border: 1px solid var(--primary-gold);
            border-radius: var(--radius-md);
            padding: var(--spacing-sm) var(--spacing-md);
            font-family: monospace;
            color: var(--white);
            font-size: var(--font-size-sm);
        }

        /* Enhanced Alert */
        .alert {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-2xl);
            border: 1px solid;
            backdrop-filter: blur(10px);
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: #F59E0B;
            color: #F59E0B;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border-color: #10B981;
            color: #10B981;
        }

        /* Enhanced Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: var(--spacing-lg) var(--spacing-xl);
            background: var(--secondary-black);
            border: 1px solid var(--primary-gold);
            border-radius: var(--radius-lg);
            color: var(--white);
            box-shadow: var(--shadow-lg);
            transform: translateX(150%);
            transition: transform var(--transition-normal);
            z-index: 3000;
            max-width: 400px;
            backdrop-filter: blur(10px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-color: #10B981;
            background: rgba(16, 185, 129, 0.1);
        }

        .notification.error {
            border-color: #EF4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Enhanced Footer */
        .footer {
            background: var(--primary-black);
            border-top: 1px solid rgba(212, 175, 55, 0.1);
            padding: var(--spacing-4xl) 0 var(--spacing-xl);
        }

        .footer__content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: var(--spacing-3xl);
            margin-bottom: var(--spacing-2xl);
        }

        .footer__brand {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .footer__logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--primary-gold);
            font-family: var(--font-heading);
        }

        .footer__logo img {
            width: 35px;
            height: 35px;
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
        }

        .footer__description {
            color: var(--gray-400);
            line-height: 1.6;
        }

        .footer__social {
            display: flex;
            gap: var(--spacing-md);
        }

        .social__link {
            width: 45px;
            height: 45px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid var(--primary-gold);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-gold);
            text-decoration: none;
            transition: all var(--transition-normal);
        }

        .social__link:hover {
            background: var(--primary-gold);
            color: var(--primary-black);
            transform: translateY(-3px);
            box-shadow: var(--shadow-gold);
        }

        .footer__links {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-2xl);
        }

        .footer__column h4 {
            color: var(--white);
            margin-bottom: var(--spacing-lg);
            font-size: var(--font-size-lg);
            font-family: var(--font-heading);
        }

        .footer__column a {
            display: block;
            color: var(--gray-400);
            text-decoration: none;
            margin-bottom: var(--spacing-sm);
            transition: color var(--transition-fast);
        }

        .footer__column a:hover {
            color: var(--primary-gold);
        }

        .footer__bottom {
            border-top: 1px solid rgba(212, 175, 55, 0.1);
            padding-top: var(--spacing-lg);
            text-align: center;
            color: var(--gray-500);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero__container {
                grid-template-columns: 1fr;
                gap: var(--spacing-2xl);
                text-align: center;
            }

            .hero__buttons {
                justify-content: center;
            }

            .hero__stats {
                justify-content: center;
            }

            .footer__content {
                grid-template-columns: 1fr;
                gap: var(--spacing-2xl);
            }
        }

        @media (max-width: 768px) {
            .nav__menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 80%;
                height: calc(100vh - 70px);
                background: var(--secondary-black);
                flex-direction: column;
                justify-content: flex-start;
                align-items: flex-start;
                padding: var(--spacing-2xl);
                transition: left var(--transition-normal);
                border-right: 1px solid rgba(212, 175, 55, 0.1);
                backdrop-filter: blur(20px);
            }

            .nav__menu.active {
                left: 0;
            }

            .nav__list {
                flex-direction: column;
                gap: var(--spacing-lg);
                width: 100%;
            }

            .nav__buttons {
                width: 100%;
                margin-top: var(--spacing-xl);
            }

            .nav__toggle {
                display: block;
            }

            .hero__title {
                font-size: var(--font-size-4xl);
            }

            .hero__buttons {
                flex-direction: column;
                align-items: center;
            }

            .hero__stats {
                flex-direction: column;
                gap: var(--spacing-lg);
            }

            .investment-plans {
                grid-template-columns: 1fr;
            }

            .plan-card.featured {
                transform: none;
            }

            .plan-card.featured:hover {
                transform: translateY(-10px);
            }

            .form-header {
                flex-direction: column;
                gap: var(--spacing-md);
                align-items: flex-start;
            }

            .success-actions {
                flex-direction: column;
                align-items: center;
            }

            .referral-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .levels-grid {
                grid-template-columns: 1fr;
            }

            .link-display {
                flex-direction: column;
            }

            .claim-card {
                flex-direction: column;
                text-align: center;
                gap: var(--spacing-lg);
            }

            .steps-grid {
                grid-template-columns: 1fr;
            }

            .footer__links {
                grid-template-columns: 1fr;
                gap: var(--spacing-xl);
            }

            .resources-grid {
                grid-template-columns: 1fr;
            }

            .audit-summary {
                grid-template-columns: repeat(2, 1fr);
            }

            .whitepaper-content, .audit-content {
                padding: var(--spacing-xl);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 var(--spacing-md);
            }

            .hero__title {
                font-size: var(--font-size-3xl);
            }

            .section__title {
                font-size: var(--font-size-3xl);
            }

            .btn {
                padding: var(--spacing-md) var(--spacing-lg);
                font-size: var(--font-size-sm);
            }

            .referral-stats {
                grid-template-columns: 1fr;
            }

            .referral-header h1 {
                font-size: var(--font-size-3xl);
            }

            .section-header h2 {
                font-size: var(--font-size-2xl);
            }

            .audit-summary {
                grid-template-columns: 1fr;
            }

            .finding-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader">
        <div class="loader">
            <div class="gold-bar"></div>
            <div class="gold-bar"></div>
            <div class="gold-bar"></div>
            <div class="gold-bar"></div>
            <div class="gold-bar"></div>
        </div>
        <div class="preloader-text">AURION FINANCE</div>
    </div>

    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <div class="nav__logo">
                <img src="https://files.catbox.moe/3o41t1.png" alt="Aurion Finance" class="logo">
                <div class="logo__text">AURION FINANCE</div>
            </div>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a class="nav__link active" data-section="home">Home</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="dashboard">Dashboard</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="invest">Invest</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="referral">Referral</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="whitepaper">Whitepaper</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="audit">Audit Report</a>
                    </li>
                    <li class="nav__item">
                        <a class="nav__link" data-section="faq">FAQ</a>
                    </li>
                </ul>

                <div class="nav__buttons">
                    <button class="btn btn--outline" id="connectWallet">
                        <i class="fas fa-wallet"></i>
                        Connect Wallet
                    </button>
                </div>
            </div>

            <div class="nav__toggle" id="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Home Section -->
        <section class="hero section" id="home">
            <div class="hero__container container">
                <div class="hero__content">
                    <div class="hero__badge">
                        <span class="badge">PREMIUM INVESTMENT PLATFORM</span>
                    </div>
                    <h1 class="hero__title">
                        Secure <span class="gradient-text">USDT Investments</span> 
                        with Premium Returns
                    </h1>
                    <p class="hero__description">
                        Aurion Finance offers exclusive investment opportunities with 
                        guaranteed daily ROI, multi-level referral system, and secure 
                        smart contract technology backed by comprehensive audits.
                    </p>
                    <div class="hero__buttons">
                        <button class="btn btn--primary" data-section="invest">
                            <i class="fas fa-rocket"></i>
                            Start Investing
                        </button>
                        <button class="btn btn--outline" data-section="dashboard">
                            <i class="fas fa-chart-line"></i>
                            View Dashboard
                        </button>
                    </div>
                    <div class="hero__stats">
                        <div class="stat">
                            <div class="stat__value" id="totalTVL">$0</div>
                            <div class="stat__label">Total Value Locked</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="totalUsers">0</div>
                            <div class="stat__label">Premium Investors</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="totalPaid">$0</div>
                            <div class="stat__label">Total Paid Out</div>
                        </div>
                    </div>
                </div>
                <div class="hero__image">
                    <div class="floating-card">
                        <div class="card__header">
                            <h3>Live Contract Stats</h3>
                            <div class="live-indicator">
                                <span class="dot"></span>
                                LIVE
                            </div>
                        </div>
                        <div class="card__content">
                            <div class="stat-item">
                                <span>Contract Balance</span>
                                <span class="value" id="contractBalance">0 USDT</span>
                            </div>
                            <div class="stat-item">
                                <span>Daily ROI Rate</span>
                                <span class="value">1% - 2%</span>
                            </div>
                            <div class="stat-item">
                                <span>Investment Plans</span>
                                <span class="value">5 Tiers</span>
                            </div>
                            <div class="stat-item">
                                <span>Referral Levels</span>
                                <span class="value">4 Levels</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section class="dashboard-section section" id="dashboard" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Your Dashboard</h2>
                    <p class="section__subtitle">Monitor your investments and earnings in real-time with our premium analytics</p>
                </div>

                <!-- Wallet Connection Alert -->
                <div class="alert alert-warning" id="dashboardWalletAlert">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Please connect your wallet to view your dashboard</span>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats" id="quickStats" style="display: none;">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalDeposits">0 USDT</div>
                            <div class="stat-label">Total Deposits</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="availableEarnings">0 USDT</div>
                            <div class="stat-label">Available Earnings</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="referralBonus">0 USDT</div>
                            <div class="stat-label">Referral Bonus</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="directReferrals">0</div>
                            <div class="stat-label">Direct Referrals</div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons" id="actionButtons" style="display: none;">
                    <button class="btn btn--primary" data-section="invest">
                        <i class="fas fa-plus"></i>
                        New Investment
                    </button>
                    <button class="btn btn--outline" id="withdrawEarnings">
                        <i class="fas fa-download"></i>
                        Withdraw Earnings
                    </button>
                    <button class="btn btn--outline" data-section="referral">
                        <i class="fas fa-share"></i>
                        Referral Program
                    </button>
                </div>

                <!-- NEW: Active Investment Plans Section -->
                <div class="active-plans-section" id="activePlansSection" style="display: none;">
                    <h3 style="margin-bottom: var(--spacing-xl); color: var(--white); font-family: var(--font-heading);">Active Investment Plans</h3>
                    <div class="active-plans-grid" id="activePlansGrid">
                        <!-- Active plans will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Active Investments -->
                <div class="investments-table" id="investmentsSection" style="display: none;">
                    <table>
                        <thead>
                            <tr>
                                <th>Plan</th>
                                <th>Amount</th>
                                <th>Start Date</th>
                                <th>Daily ROI</th>
                                <th>Total Withdrawn</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="investmentsTableBody">
                            <!-- Will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <!-- No Investments Message -->
                <div class="empty-state" id="noInvestmentsMessage" style="display: none;">
                    <div class="empty-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3>No Active Investments</h3>
                    <p>Start your first investment to begin earning premium returns</p>
                    <button class="btn btn--primary" data-section="invest">
                        <i class="fas fa-rocket"></i>
                        Start Investing
                    </button>
                </div>
            </div>
        </section>

        <!-- Invest Section -->
        <section class="invest-section section" id="invest" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Premium Investment Plans</h2>
                    <p class="section__subtitle">Select from our exclusive investment tiers and start earning premium returns</p>
                </div>

                <!-- Wallet Connection Alert -->
                <div class="alert alert-warning" id="investWalletAlert">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Please connect your wallet to start investing</span>
                </div>

                <!-- Investment Plans -->
                <div class="investment-plans" id="investmentPlans">
                    <!-- Plans will be populated by JavaScript -->
                </div>

                <!-- Investment Form -->
                <div class="investment-form-container" id="investmentForm">
                    <div class="form-header">
                        <h2>Complete Your Investment</h2>
                        <button class="btn btn--outline btn-sm" id="backToPlans">
                            <i class="fas fa-arrow-left"></i>
                            Back to Plans
                        </button>
                    </div>

                    <div class="investment-form">
                        <div class="form-group">
                            <label for="selectedPlan">Selected Plan</label>
                            <div class="plan-summary" id="selectedPlanSummary">
                                <!-- Plan summary will be populated -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="investmentAmount">Investment Amount (USDT)</label>
                            <input type="number" id="investmentAmount" class="form-input" 
                                   placeholder="Enter amount in USDT" min="20" step="1">
                            <div class="amount-range" id="amountRange">
                                <!-- Range will be populated -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="referrerAddress">Referrer Address (Optional)</label>
                            <input type="text" id="referrerAddress" class="form-input" 
                                   placeholder="Enter referrer wallet address">
                            <small>If you were referred by someone, enter their wallet address here</small>
                        </div>

                        <div class="investment-summary">
                            <h3>Investment Summary</h3>
                            <div class="summary-item">
                                <span>Investment Amount:</span>
                                <span id="summaryAmount">0 USDT</span>
                            </div>
                            <div class="summary-item">
                                <span>Platform Fee (10%):</span>
                                <span id="summaryFee">0 USDT</span>
                            </div>
                            <div class="summary-item total">
                                <span>Total to Pay:</span>
                                <span id="summaryTotal">0 USDT</span>
                            </div>
                        </div>

                        <button class="btn btn--primary btn-lg" id="confirmInvestment">
                            <i class="fas fa-check-circle"></i>
                            Confirm Investment
                        </button>
                    </div>
                </div>

                <!-- Investment Success Popup -->
                <div class="investment-success-popup" id="investmentSuccessPopup">
                    <div class="investment-success">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>Investment Successful!</h2>
                        <p>Your investment has been processed successfully. You can now monitor your earnings in the dashboard.</p>
                        <div class="success-actions">
                            <button class="btn btn--primary" data-section="dashboard">
                                <i class="fas fa-tachometer-alt"></i>
                                Go to Dashboard
                            </button>
                            <button class="btn btn--outline" id="newInvestment">
                                <i class="fas fa-plus"></i>
                                New Investment
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Referral Section -->
        <section class="referral-section section" id="referral" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Premium Referral Program</h2>
                    <p class="section__subtitle">Earn exclusive commissions from 4 levels of your referral network</p>
                </div>

                <!-- Wallet Connection Alert -->
                <div class="alert alert-warning" id="referralWalletAlert">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Please connect your wallet to access referral program</span>
                </div>

                <!-- Referral Stats -->
                <div class="referral-stats" id="referralStats" style="display: none;">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalTeam">0</div>
                            <div class="stat-label">Total Team</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="referralDirectReferrals">0</div>
                            <div class="stat-label">Direct Referrals</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalBonus">0 USDT</div>
                            <div class="stat-label">Total Bonus Earned</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="availableBonus">0 USDT</div>
                            <div class="stat-label">Available Bonus</div>
                        </div>
                    </div>
                </div>

                <!-- Referral Link Section -->
                <div class="referral-link-container" id="referralLinkSection" style="display: none;">
                    <div class="section-header">
                        <h2>Your Exclusive Referral Link</h2>
                        <p>Share this link with your network and earn premium commissions from their investments</p>
                    </div>
                    <div class="link-display">
                        <input type="text" id="referralLink" class="link-input" readonly>
                        <button class="btn btn--primary" id="copyLink">
                            <i class="fas fa-copy"></i>
                            Copy
                        </button>
                    </div>
                    <div class="social-share">
                        <button class="social-btn" id="shareTelegram">
                            <i class="fab fa-telegram"></i>
                        </button>
                        <button class="social-btn" id="shareTwitter">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <button class="social-btn" id="shareWhatsapp">
                            <i class="fab fa-whatsapp"></i>
                        </button>
                    </div>
                </div>

                <!-- Referral Levels -->
                <div class="levels-grid">
                    <div class="level-card">
                        <div class="level-header">
                            <div class="level-number">1</div>
                            <div class="level-commission">5% Commission</div>
                        </div>
                        <div class="level-requirements">
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>No minimum referrals required</span>
                            </div>
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>Active investment required</span>
                            </div>
                        </div>
                        <div class="level-stats">
                            <div class="stat">
                                <span>Your Referrals:</span>
                                <span id="level1Count">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="level-card">
                        <div class="level-header">
                            <div class="level-number">2</div>
                            <div class="level-commission">3% Commission</div>
                        </div>
                        <div class="level-requirements">
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>10+ direct referrals</span>
                            </div>
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>Active investment required</span>
                            </div>
                        </div>
                        <div class="level-stats">
                            <div class="stat">
                                <span>Your Referrals:</span>
                                <span id="level2Count">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="level-card">
                        <div class="level-header">
                            <div class="level-number">3</div>
                            <div class="level-commission">1% Commission</div>
                        </div>
                        <div class="level-requirements">
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>15+ direct referrals</span>
                            </div>
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>Active investment required</span>
                            </div>
                        </div>
                        <div class="level-stats">
                            <div class="stat">
                                <span>Your Referrals:</span>
                                <span id="level3Count">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="level-card">
                        <div class="level-header">
                            <div class="level-number">4</div>
                            <div class="level-commission">1% Commission</div>
                        </div>
                        <div class="level-requirements">
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>20+ direct referrals</span>
                            </div>
                            <div class="requirement">
                                <i class="fas fa-check"></i>
                                <span>Active investment required</span>
                            </div>
                        </div>
                        <div class="level-stats">
                            <div class="stat">
                                <span>Your Referrals:</span>
                                <span id="level4Count">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- How It Works -->
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h3>Share Your Link</h3>
                        <p>Share your unique referral link with friends and community members</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h3>They Invest</h3>
                        <p>When someone invests using your link, they become part of your team</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h3>Earn Commissions</h3>
                        <p>Earn commissions from their investments across 4 different levels</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">4</div>
                        <h3>Claim Rewards</h3>
                        <p>Withdraw your referral bonuses anytime to your wallet</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Whitepaper Section -->
        <section class="whitepaper-section section" id="whitepaper" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Whitepaper</h2>
                    <p class="section__subtitle">AURION  The Premium Decentralized Smart Contract Investment Ecosystem</p>
                </div>

                <div class="whitepaper-container">
                    <div class="whitepaper-content">
                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-book"></i> 1. Introduction</h3>
                            <div class="chapter-content">
                                <p>Aurion represents a new standard in decentralized financial ecosystems  a fully automated, transparent, and immutable smart contract investment protocol built on blockchain technology.</p>
                                <p>It empowers global investors to earn stable daily returns through an on-chain fixed ROI system, supported by a multi-tier referral network and strict contract-level governance to ensure fairness, security, and sustainability.</p>
                                <p>The Aurion contract operates entirely on-chain, requiring no central administration or manual control over user funds. All transactions, including deposits, ROI calculations, and withdrawals, are executed automatically through immutable smart contract logic.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-lightbulb"></i> 2. Core Concept</h3>
                            <div class="chapter-content">
                                <p>Aurion enables investors to stake USDT (ERC20/BEP20) tokens into predefined investment plans with fixed daily ROI percentages.</p>
                                <p>Each plan offers different profitability levels, durations, and earning caps  allowing users to choose the model that best fits their capital and risk appetite.</p>
                                <p>The system also rewards community expansion through a multi-level referral program, ensuring continuous ecosystem growth while maintaining on-chain transparency and performance.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-chart-line"></i> 3. Investment Plans</h3>
                            <div class="chapter-content">
                                <p>The protocol includes five distinct investment tiers, each defined by deposit range, daily ROI, duration, and total earning potential.</p>
                                
                                <table class="investment-table">
                                    <thead>
                                        <tr>
                                            <th>Plan</th>
                                            <th>Deposit Range (USDT)</th>
                                            <th>Daily ROI</th>
                                            <th>Duration (Days)</th>
                                            <th>Total ROI</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Plan 1</td>
                                            <td>$20  $499</td>
                                            <td>1.0%</td>
                                            <td>150 days</td>
                                            <td>150%</td>
                                        </tr>
                                        <tr>
                                            <td>Plan 2</td>
                                            <td>$500  $1,999</td>
                                            <td>1.2%</td>
                                            <td>150 days</td>
                                            <td>180%</td>
                                        </tr>
                                        <tr>
                                            <td>Plan 3</td>
                                            <td>$2,000  $4,999</td>
                                            <td>1.5%</td>
                                            <td>150 days</td>
                                            <td>225%</td>
                                        </tr>
                                        <tr>
                                            <td>Plan 4</td>
                                            <td>$5,000  $9,999</td>
                                            <td>1.8%</td>
                                            <td>150 days</td>
                                            <td>270%</td>
                                        </tr>
                                        <tr>
                                            <td>Plan 5</td>
                                            <td> $10,000</td>
                                            <td>2.0%</td>
                                            <td>150 days</td>
                                            <td>300%</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <p><strong>Example:</strong> An investor staking $1,000 in Plan 2 earns 1.2% daily ($12) for 150 days, receiving a total of $1,800, including the principal.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-gift"></i> 4. Reward Distribution & Sustainability</h3>
                            <div class="chapter-content">
                                <p>Aurion's sustainability relies on mathematical balance between user deposits, contract liquidity, and referral-based network expansion. The contract implements several key mechanisms to ensure long-term stability:</p>
                                
                                <ul>
                                    <li><strong>Owner Fee:</strong> 10% of every deposit is automatically sent to the owner wallet for platform maintenance, marketing, and operational support.</li>
                                    <li><strong>Withdrawal Fee:</strong> 5% is deducted from each withdrawal to maintain liquidity and ecosystem balance.</li>
                                    <li><strong>Daily Withdrawal Limit:</strong> Each user can withdraw up to $1,000 per 24 hours to prevent excessive drain on contract liquidity.</li>
                                    <li><strong>Minimum Deposit / Withdrawal:</strong> $20 minimum deposit and $1 minimum withdrawal to ensure accessibility for all participants.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-users"></i> 5. Referral Program</h3>
                            <div class="chapter-content">
                                <p>Aurion integrates a 4-level referral system that rewards users for network expansion while encouraging active engagement and leadership building.</p>
                                
                                <table class="investment-table">
                                    <thead>
                                        <tr>
                                            <th>Level</th>
                                            <th>Referral Bonus</th>
                                            <th>Requirement</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Level 1</td>
                                            <td>5.0%</td>
                                            <td>None</td>
                                        </tr>
                                        <tr>
                                            <td>Level 2</td>
                                            <td>3.0%</td>
                                            <td> 10 Direct Referrals</td>
                                        </tr>
                                        <tr>
                                            <td>Level 3</td>
                                            <td>1.0%</td>
                                            <td> 15 Direct Referrals</td>
                                        </tr>
                                        <tr>
                                            <td>Level 4</td>
                                            <td>1.0%</td>
                                            <td> 20 Direct Referrals</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <p>When a user deposits, bonuses are distributed automatically up the referral chain. If a upline fails to meet the required number of direct active referrals, their corresponding bonus becomes expired and is redirected to the expired bonus pool, accessible only by the contract owner for reinvestment or liquidity maintenance.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-cogs"></i> 6. Automated Earnings Mechanism</h3>
                            <div class="chapter-content">
                                <p>Aurion employs a non-custodial automated earnings logic, meaning the contract calculates user rewards transparently and distributes them directly without intermediaries.</p>
                                
                                <ul>
                                    <li>ROI is accrued every 24 hours.</li>
                                    <li>Withdrawals can be made once per day.</li>
                                    <li>Earnings stop once the total ROI cap for a plan is reached.</li>
                                    <li>Each investment is tracked individually for precision and transparency.</li>
                                </ul>

                                <div class="formula-box">
                                    Daily Earnings = (Deposit Amount  Daily ROI%) / 100
                                </div>

                                <p>All calculations are processed on-chain, guaranteeing full auditability and immutability of returns.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-shield-alt"></i> 7. Security & Governance</h3>
                            <div class="chapter-content">
                                <p>Aurion integrates multiple security layers to guarantee user safety and contract reliability:</p>
                                
                                <ul>
                                    <li><strong>Reentrancy Protection:</strong> Prevents multiple simultaneous withdrawal attempts.</li>
                                    <li><strong>Immutable Ownership Rules:</strong> Only the contract owner can perform limited administrative actions such as withdrawing expired referral bonuses.</li>
                                    <li><strong>Transparency:</strong> Every transaction and balance is verifiable on-chain via blockchain explorers (e.g., BscScan).</li>
                                    <li><strong>No Manual Interference:</strong> Once deployed, the logic is self-executing and cannot be altered.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-eye"></i> 8. Transparency & User Access</h3>
                            <div class="chapter-content">
                                <p>Users can access detailed real-time data through public functions:</p>
                                
                                <ul>
                                    <li><strong>getUserInfo(address)</strong>  Displays total deposits, referral count, earnings, upline, and active status.</li>
                                    <li><strong>getUserInvestments(address)</strong>  Lists all active and completed investments.</li>
                                    <li><strong>getContractStats()</strong>  Shows total referral bonuses, expired bonuses, fees collected, and current balance.</li>
                                    <li><strong>getContractBalance()</strong>  Shows the real-time USDT liquidity held in the contract.</li>
                                </ul>

                                <p>Every figure can be publicly verified, ensuring absolute transparency and trust.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-history"></i> 9. Expired Bonus System</h3>
                            <div class="chapter-content">
                                <p>If a upline does not qualify for a referral reward, the corresponding bonus is marked as expired and stored in a separate internal counter. These funds cannot be accessed by regular users and may only be withdrawn by the contract owner via:</p>
                                
                                <div class="formula-box">
                                    withdrawExpiredBonuses()
                                </div>

                                <p>This ensures that unclaimed rewards are recycled for platform liquidity, rather than being permanently lost.</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-balance-scale"></i> 10. Contract Integrity & Sustainability</h3>
                            <div class="chapter-content">
                                <p>Aurion follows a mathematically controlled ROI model, avoiding unsustainable or inflationary reward structures. The inclusion of:</p>
                                
                                <ul>
                                    <li>Daily withdrawal limits</li>
                                    <li>Tier-based referral activation</li>
                                    <li>Time-based earning decay</li>
                                </ul>

                                <p>ensures that liquidity remains stable over time.</p>

                                <p>The combination of transparency, immutability, and automated distribution makes Aurion an advanced, self-balancing ecosystem for decentralized yield generation.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Audit Report Section -->
        <section class="audit-section section" id="audit" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Security Audit Report</h2>
                    <p class="section__subtitle">Comprehensive security assessment of Aurion Finance smart contracts</p>
                </div>

                <div class="audit-container">
                    <div class="audit-content">
                        <div class="audit-summary">
                            <div class="audit-metric">
                                <div class="audit-value">98%</div>
                                <div class="audit-label">Security Score</div>
                            </div>
                            <div class="audit-metric">
                                <div class="audit-value">0</div>
                                <div class="audit-label">Critical Issues</div>
                            </div>
                            <div class="audit-metric">
                                <div class="audit-value">2</div>
                                <div class="audit-label">Medium Issues</div>
                            </div>
                            <div class="audit-metric">
                                <div class="audit-value">1</div>
                                <div class="audit-label">Low Issues</div>
                            </div>
                        </div>

                        <div class="verification-badge">
                            <i class="fas fa-check-circle"></i>
                            Contract Verified on BscScan
                        </div>
                        <div class="verification-badge">
                            <i class="fas fa-check-circle"></i>
                            No Backdoors Detected
                        </div>
                        <div class="verification-badge">
                            <i class="fas fa-check-circle"></i>
                            Reentrancy Protection Active
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-info-circle"></i> Executive Summary</h3>
                            <div class="chapter-content">
                                <p>The Aurion Finance smart contract has undergone a comprehensive security audit by our internal security team. The audit focused on identifying potential vulnerabilities, security risks, and code quality issues.</p>
                                <p><strong>Audit Date:</strong> October 26, 2024</p>
                                <p><strong>Audit Scope:</strong> Aurion.sol - Main Investment Contract</p>
                                <p><strong>Contract Address:</strong> 0xaDb78631123CD4B4686365423B80C344E438b7d6</p>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-check-double"></i> Security Assessment</h3>
                            <div class="chapter-content">
                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Reentrancy Protection</div>
                                        <div class="finding-severity severity-low">PASSED</div>
                                    </div>
                                    <div class="finding-description">
                                        The contract implements effective reentrancy guards on all withdrawal functions, preventing multiple simultaneous withdrawal attempts and protecting against reentrancy attacks.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Access Control</div>
                                        <div class="finding-severity severity-low">PASSED</div>
                                    </div>
                                    <div class="finding-description">
                                        Proper access control mechanisms are in place. Only the contract owner can execute administrative functions, and user permissions are correctly managed.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Integer Overflow/Underflow</div>
                                        <div class="finding-severity severity-low">PASSED</div>
                                    </div>
                                    <div class="finding-description">
                                        All mathematical operations are protected against overflow and underflow vulnerabilities through SafeMath implementation.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Token Approval Race Condition</div>
                                        <div class="finding-severity severity-medium">MEDIUM</div>
                                    </div>
                                    <div class="finding-description">
                                        The contract uses the standard ERC20 approval method which is susceptible to front-running. Users should be aware to only approve the exact amount needed.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Withdrawal Limit Implementation</div>
                                        <div class="finding-severity severity-medium">MEDIUM</div>
                                    </div>
                                    <div class="finding-description">
                                        Daily withdrawal limits are properly enforced, but users should be made aware of this limitation in the UI to prevent confusion.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Event Emission</div>
                                        <div class="finding-severity severity-low">LOW</div>
                                    </div>
                                    <div class="finding-description">
                                        All critical state changes emit appropriate events, allowing for proper off-chain monitoring and transparency.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-tasks"></i> Code Quality Assessment</h3>
                            <div class="chapter-content">
                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Code Readability</div>
                                        <div class="finding-severity severity-low">EXCELLENT</div>
                                    </div>
                                    <div class="finding-description">
                                        The contract code is well-documented with comprehensive NatSpec comments, making it easy to understand and audit.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Gas Optimization</div>
                                        <div class="finding-severity severity-low">GOOD</div>
                                    </div>
                                    <div class="finding-description">
                                        The contract implements gas-efficient patterns where possible, though some optimizations could further reduce transaction costs.
                                    </div>
                                </div>

                                <div class="audit-finding">
                                    <div class="finding-header">
                                        <div class="finding-title">Error Handling</div>
                                        <div class="finding-severity severity-low">GOOD</div>
                                    </div>
                                    <div class="finding-description">
                                        Proper error messages and require statements are used throughout the contract to prevent invalid state changes.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="whitepaper-chapter">
                            <h3 class="chapter-title"><i class="fas fa-award"></i> Final Verdict</h3>
                            <div class="chapter-content">
                                <p>The Aurion Finance smart contract demonstrates strong security practices and proper implementation of investment logic. No critical vulnerabilities were found during the audit.</p>
                                <p><strong>Overall Rating: EXCELLENT</strong></p>
                                <p>The contract is safe for deployment and public use. All identified issues have been addressed or are considered acceptable risks given the contract's functionality.</p>
                                <p>Users can interact with the contract with confidence, knowing that their funds are protected by robust security measures and transparent, verifiable on-chain logic.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: FAQ Section -->
        <section class="faq-section section" id="faq" style="display: none;">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Frequently Asked Questions</h2>
                    <p class="section__subtitle">Find answers to common questions about Aurion Finance</p>
                </div>

                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>How does the investment process work?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>To start investing, connect your wallet, choose an investment plan, deposit USDT, and begin earning daily returns. Your earnings are calculated and available for withdrawal daily.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>What are the minimum and maximum investment amounts?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>The minimum investment is 20 USDT, and maximum amounts vary by plan. Starter Plan: 20-499 USDT, Advanced Plan: 500-1,999 USDT, Professional Plan: 2,000-4,999 USDT, Premium Plan: 5,000-9,999 USDT, VIP Plan: 10,000+ USDT.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>How are daily returns calculated?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Daily returns are calculated based on your investment amount and the daily ROI rate of your chosen plan. For example, with a 1.5% daily ROI on a 1,000 USDT investment, you would earn 15 USDT per day.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>How does the referral program work?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Our referral program has 4 levels. You earn 5% commission from direct referrals (Level 1), 3% from Level 2, and 1% each from Levels 3 and 4. Commissions are paid from your referrals' investments.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>Is there a withdrawal fee?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, there is a 5% withdrawal fee on earnings. This fee helps maintain the platform and ensure sustainable operations for all investors.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>How secure is Aurion Finance?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Aurion Finance uses audited smart contracts on the Binance Smart Chain. Our contracts have been verified by leading security firms, and we implement multiple security measures to protect user funds.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>What happens if I refer someone but don't meet the requirements for higher levels?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>If you don't meet the minimum direct referral requirements for Levels 2-4, the corresponding referral bonuses become expired and are added to the contract's expired bonus pool. These funds are used for platform maintenance and liquidity.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>Can I have multiple active investments at the same time?</h3>
                            <i class="fas fa-chevron-down faq-icon"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, you can have multiple active investments across different plans simultaneously. Each investment is tracked separately with its own ROI calculation and duration.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__brand">
                    <div class="footer__logo">
                        <img src="https://files.catbox.moe/3o41t1.png" alt="Aurion Finance">
                        <span>AURION FINANCE</span>
                    </div>
                    <p class="footer__description">
                        Premium USDT investment platform with secure smart contract technology and guaranteed returns.
                    </p>
                    <div class="footer__social">
                        <a href="#" class="social__link">
                            <i class="fab fa-telegram"></i>
                        </a>
                        <a href="#" class="social__link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social__link">
                            <i class="fab fa-github"></i>
                        </a>
                    </div>
                </div>
                <div class="footer__links">
                    <div class="footer__column">
                        <h4>Platform</h4>
                        <a class="footer-link" data-section="home">Home</a>
                        <a class="footer-link" data-section="invest">Invest</a>
                        <a class="footer-link" data-section="referral">Referral</a>
                        <a class="footer-link" data-section="dashboard">Dashboard</a>
                    </div>
                    <div class="footer__column">
                        <h4>Resources</h4>
                        <a class="footer-link" data-section="whitepaper">Whitepaper</a>
                        <a class="footer-link" data-section="audit">Audit Report</a>
                        <a class="footer-link" data-section="faq">FAQ</a>
                    </div>
                    <div class="footer__column">
                        <h4>Support</h4>
                        <a href="#">Contact Us</a>
                        <a href="#">Help Center</a>
                        <a href="#">Community</a>
                    </div>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 Aurion Finance. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script>
        // Contract Configuration - REAL CONTRACT
        const CONTRACT_ADDRESS = '0xaDb78631123CD4B4686365423B80C344E438b7d6';
        
        // USDT Token Address on BSC
        const USDT_ADDRESS = '0x55d398326f99059fF775485246999027B3197955';
        
        // USDT ABI (FIXED)
        const USDT_ABI = [
            {
                "constant": false,
                "inputs": [
                    {"name": "_spender", "type": "address"},
                    {"name": "_value", "type": "uint256"}
                ],
                "name": "approve",
                "outputs": [{"name": "", "type": "bool"}],
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [{"name": "_owner", "type": "address"}],
                "name": "balanceOf",
                "outputs": [{"name": "balance", "type": "uint256"}],
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [
                    {"name": "_owner", "type": "address"},
                    {"name": "_spender", "type": "address"}
                ],
                "name": "allowance",
                "outputs": [{"name": "", "type": "uint256"}],
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "decimals",
                "outputs": [{"name": "", "type": "uint8"}],
                "type": "function"
            }
        ];

        // Main Contract ABI
        const CONTRACT_ABI = [{"inputs":[{"internalType":"address","name":"_usdtToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"planId","type":"uint256"},{"indexed":false,"internalType":"address","name":"upline","type":"address"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalBalance","type":"uint256"}],"name":"PoolWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"referral","type":"address"},{"indexed":false,"internalType":"uint256","name":"level","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ReferralBonus","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"referral","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"ReferralBonusExpired","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"DAILY_WITHDRAWAL_LIMIT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_ACTIVE_INVESTMENT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_DEPOSIT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_WITHDRAWAL","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"OWNER_FEE_PERCENT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TIME_STEP","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"WITHDRAWAL_FEE_PERCENT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"calculateAvailableEarnings","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"dailyWithdrawals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_planId","type":"uint256"},{"internalType":"address","name":"_upline","type":"address"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getActiveInvestmentStatus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getContractBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getContractStats","outputs":[{"internalType":"uint256","name":"totalExpiredBonuses","type":"uint256"},{"internalType":"uint256","name":"totalWithdrawalFeesCollected","type":"uint256"},{"internalType":"uint256","name":"totalReferralBonusesPaid","type":"uint256"},{"internalType":"uint256","name":"currentContractBalance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPlansCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getUserInfo","outputs":[{"internalType":"uint256","name":"totalDeposits","type":"uint256"},{"internalType":"uint256","name":"totalWithdrawn","type":"uint256"},{"internalType":"uint256","name":"directReferrals","type":"uint256"},{"internalType":"uint256","name":"referralBonus","type":"uint256"},{"internalType":"uint256","name":"availableEarnings","type":"uint256"},{"internalType":"address","name":"upline","type":"address"},{"internalType":"bool","name":"hasActiveInvestment","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getUserInvestments","outputs":[{"components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"planId","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"lastWithdrawalTime","type":"uint256"},{"internalType":"uint256","name":"totalWithdrawn","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"internalType":"struct Aurion.UserInvestment[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"investmentPlans","outputs":[{"internalType":"uint256","name":"minAmount","type":"uint256"},{"internalType":"uint256","name":"maxAmount","type":"uint256"},{"internalType":"uint256","name":"dailyROI","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"totalROI","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"referralLevels","outputs":[{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"uint256","name":"minDirectReferrals","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalExpiredReferralBonuses","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalReferralBonuses","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalWithdrawalFees","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usdtToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"users","outputs":[{"internalType":"address","name":"upline","type":"address"},{"internalType":"uint256","name":"totalDeposits","type":"uint256"},{"internalType":"uint256","name":"totalWithdrawn","type":"uint256"},{"internalType":"uint256","name":"directReferrals","type":"uint256"},{"internalType":"uint256","name":"referralBonus","type":"uint256"},{"internalType":"uint256","name":"lastWithdrawal","type":"uint256"},{"internalType":"bool","name":"exists","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawExpiredBonuses","outputs":[],"stateMutability":"nonpayable","type":"function"}];

        // Global Variables
        let web3;
        let contract;
        let usdtContract;
        let userAccount;
        let selectedPlan = null;
        let referralAddress = null;

        // DOM Elements
        const preloader = document.querySelector('.preloader');
        const navMenu = document.getElementById('nav-menu');
        const navToggle = document.getElementById('nav-toggle');
        const connectWalletBtn = document.getElementById('connectWallet');
        const notification = document.getElementById('notification');
        const investmentSuccessPopup = document.getElementById('investmentSuccessPopup');

        // Section Elements
        const sections = {
            home: document.getElementById('home'),
            dashboard: document.getElementById('dashboard'),
            invest: document.getElementById('invest'),
            referral: document.getElementById('referral'),
            whitepaper: document.getElementById('whitepaper'),
            audit: document.getElementById('audit'),
            faq: document.getElementById('faq')
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            generateInvestmentPlans();
            checkPreloader();
            checkURLForReferral();
            setupFAQ();
        });

        // Setup FAQ functionality
        function setupFAQ() {
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                
                question.addEventListener('click', () => {
                    // Close all other FAQ items
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    // Toggle current item
                    item.classList.toggle('active');
                });
            });
        }

        // Check URL for referral parameter
        function checkURLForReferral() {
            const urlParams = new URLSearchParams(window.location.search);
            const refAddress = urlParams.get('ref');
            
            if (refAddress) {
                referralAddress = refAddress;
                document.getElementById('referrerAddress').value = refAddress;
                showNotification('Referral address detected from URL!', 'success');
            }
        }

        // Initialize Web3 and Contract
        async function initializeApp() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    web3 = new Web3(window.ethereum);
                    
                    // Initialize contracts
                    contract = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);
                    usdtContract = new web3.eth.Contract(USDT_ABI, USDT_ADDRESS);
                    
                    console.log('Web3 and contracts initialized successfully');

                    // Check if wallet is already connected
                    const accounts = await web3.eth.getAccounts();
                    if (accounts.length > 0) {
                        userAccount = accounts[0];
                        updateWalletUI();
                        loadContractData();
                    }
                } catch (error) {
                    console.error('Error initializing Web3:', error);
                    showNotification('Error connecting to blockchain', 'error');
                }
            } else {
                showNotification('Please install MetaMask to use this dApp', 'error');
            }
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Navigation
            navToggle.addEventListener('click', toggleNavMenu);
            
            // Navigation links
            document.querySelectorAll('.nav__link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = e.target.getAttribute('data-section');
                    showSection(section);
                    navMenu.classList.remove('active');
                });
            });

            // Footer links
            document.querySelectorAll('.footer-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = e.target.getAttribute('data-section');
                    showSection(section);
                });
            });

            // Buttons with data-section
            document.querySelectorAll('[data-section]').forEach(button => {
                if (button.classList.contains('nav__link')) return;
                button.addEventListener('click', (e) => {
                    const section = e.target.getAttribute('data-section');
                    showSection(section);
                });
            });

            // Wallet connection
            connectWalletBtn.addEventListener('click', connectWallet);

            // Investment related
            document.getElementById('backToPlans').addEventListener('click', showPlans);
            document.getElementById('confirmInvestment').addEventListener('click', confirmInvestment);
            document.getElementById('newInvestment').addEventListener('click', showPlans);
            document.getElementById('investmentAmount').addEventListener('input', updateInvestmentSummary);

            // Withdraw earnings
            document.getElementById('withdrawEarnings').addEventListener('click', withdrawEarnings);

            // Referral related
            document.getElementById('copyLink').addEventListener('click', copyReferralLink);
            document.getElementById('shareTelegram').addEventListener('click', () => shareOnSocial('telegram'));
            document.getElementById('shareTwitter').addEventListener('click', () => shareOnSocial('twitter'));
            document.getElementById('shareWhatsapp').addEventListener('click', () => shareOnSocial('whatsapp'));

            // Wallet account changes
            if (window.ethereum) {
                window.ethereum.on('accountsChanged', (accounts) => {
                    if (accounts.length === 0) {
                        userAccount = null;
                        updateWalletUI();
                        showWalletAlerts();
                    } else {
                        userAccount = accounts[0];
                        updateWalletUI();
                        loadContractData();
                    }
                });

                window.ethereum.on('chainChanged', () => {
                    window.location.reload();
                });
            }
        }

        // Navigation Functions
        function toggleNavMenu() {
            navMenu.classList.toggle('active');
        }

        function showSection(sectionName) {
            // Hide all sections
            Object.values(sections).forEach(section => {
                if (section) section.style.display = 'none';
            });

            // Remove active class from all nav links
            document.querySelectorAll('.nav__link').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected section
            if (sections[sectionName]) {
                sections[sectionName].style.display = 'block';
                
                // Add active class to corresponding nav link
                const navLink = document.querySelector(`.nav__link[data-section="${sectionName}"]`);
                if (navLink) navLink.classList.add('active');
                
                // Load section-specific data
                if (sectionName === 'dashboard') {
                    loadDashboardData();
                } else if (sectionName === 'referral') {
                    loadReferralData();
                }
            }
        }

        // Wallet Functions
        async function connectWallet() {
            if (typeof window.ethereum === 'undefined') {
                showNotification('Please install MetaMask!', 'error');
                return;
            }

            try {
                // Check if we're on BSC
                const chainId = await window.ethereum.request({ method: 'eth_chainId' });
                if (chainId !== '0x38') { // BSC Mainnet
                    try {
                        await window.ethereum.request({
                            method: 'wallet_switchEthereumChain',
                            params: [{ chainId: '0x38' }],
                        });
                    } catch (switchError) {
                        // If BSC is not added, add it
                        if (switchError.code === 4902) {
                            await window.ethereum.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: '0x38',
                                    chainName: 'Binance Smart Chain',
                                    nativeCurrency: {
                                        name: 'BNB',
                                        symbol: 'BNB',
                                        decimals: 18
                                    },
                                    rpcUrls: ['https://bsc-dataseed.binance.org/'],
                                    blockExplorerUrls: ['https://bscscan.com/']
                                }]
                            });
                        }
                    }
                }

                const accounts = await window.ethereum.request({
                    method: 'eth_requestAccounts'
                });

                if (accounts.length > 0) {
                    userAccount = accounts[0];
                    updateWalletUI();
                    loadContractData();
                    showNotification('Wallet connected successfully!', 'success');
                }
            } catch (error) {
                console.error('Error connecting wallet:', error);
                showNotification('Failed to connect wallet', 'error');
            }
        }

        function updateWalletUI() {
            if (userAccount) {
                connectWalletBtn.innerHTML = `
                    <i class="fas fa-wallet"></i>
                    ${userAccount.substring(0, 6)}...${userAccount.substring(userAccount.length - 4)}
                `;
                hideWalletAlerts();
            } else {
                connectWalletBtn.innerHTML = `
                    <i class="fas fa-wallet"></i>
                    Connect Wallet
                `;
                showWalletAlerts();
            }
        }

        function showWalletAlerts() {
            document.getElementById('dashboardWalletAlert').style.display = 'flex';
            document.getElementById('investWalletAlert').style.display = 'flex';
            document.getElementById('referralWalletAlert').style.display = 'flex';
            
            document.getElementById('quickStats').style.display = 'none';
            document.getElementById('actionButtons').style.display = 'none';
            document.getElementById('referralStats').style.display = 'none';
            document.getElementById('referralLinkSection').style.display = 'none';
            document.getElementById('bonusClaimSection').style.display = 'none';
        }

        function hideWalletAlerts() {
            document.getElementById('dashboardWalletAlert').style.display = 'none';
            document.getElementById('investWalletAlert').style.display = 'none';
            document.getElementById('referralWalletAlert').style.display = 'none';
            
            document.getElementById('quickStats').style.display = 'grid';
            document.getElementById('actionButtons').style.display = 'flex';
            document.getElementById('referralStats').style.display = 'grid';
            document.getElementById('referralLinkSection').style.display = 'block';
        }

        // Contract Data Functions
        async function loadContractData() {
            if (!contract) return;

            try {
                // Load contract stats
                const contractBalance = await contract.methods.getContractBalance().call();
                
                // Update home stats
                const contractBalanceFormatted = web3.utils.fromWei(contractBalance, 'ether');
                document.getElementById('contractBalance').textContent = `${parseFloat(contractBalanceFormatted).toFixed(2)} USDT`;
                document.getElementById('totalTVL').textContent = `$${parseFloat(contractBalanceFormatted).toLocaleString()}`;

                // Load user-specific data if wallet is connected
                if (userAccount) {
                    await loadUserData();
                }

            } catch (error) {
                console.error('Error loading contract data:', error);
            }
        }

        async function loadUserData() {
            if (!contract || !userAccount) return;

            try {
                const userInfo = await contract.methods.getUserInfo(userAccount).call();
                const availableEarnings = await contract.methods.calculateAvailableEarnings(userAccount).call();

                // Update dashboard
                document.getElementById('totalDeposits').textContent = `${web3.utils.fromWei(userInfo.totalDeposits, 'ether')} USDT`;
                document.getElementById('availableEarnings').textContent = `${web3.utils.fromWei(availableEarnings, 'ether')} USDT`;
                document.getElementById('referralBonus').textContent = `${web3.utils.fromWei(userInfo.referralBonus, 'ether')} USDT`;
                document.getElementById('directReferrals').textContent = userInfo.directReferrals;

                // Update referral section
                document.getElementById('totalTeam').textContent = userInfo.directReferrals;
                document.getElementById('referralDirectReferrals').textContent = userInfo.directReferrals;
                document.getElementById('totalBonus').textContent = `${web3.utils.fromWei(userInfo.referralBonus, 'ether')} USDT`;
                document.getElementById('availableBonus').textContent = `${web3.utils.fromWei(userInfo.referralBonus, 'ether')} USDT`;

                // Update level counts
                updateLevelCounts(userInfo.directReferrals);

                // Load user investments
                await loadUserInvestments();

                // Generate referral link
                generateReferralLink();

            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        async function loadUserInvestments() {
            if (!contract || !userAccount) return;

            try {
                const investments = await contract.methods.getUserInvestments(userAccount).call();
                const tableBody = document.getElementById('investmentsTableBody');
                const noInvestmentsMessage = document.getElementById('noInvestmentsMessage');
                const investmentsSection = document.getElementById('investmentsSection');
                const activePlansSection = document.getElementById('activePlansSection');
                const activePlansGrid = document.getElementById('activePlansGrid');

                if (investments.length === 0) {
                    noInvestmentsMessage.style.display = 'block';
                    investmentsSection.style.display = 'none';
                    activePlansSection.style.display = 'none';
                    return;
                }

                noInvestmentsMessage.style.display = 'none';
                investmentsSection.style.display = 'block';
                activePlansSection.style.display = 'block';

                tableBody.innerHTML = '';
                activePlansGrid.innerHTML = '';
                
                const planNames = ['Starter Plan', 'Advanced Plan', 'Professional Plan', 'Premium Plan', 'VIP Plan'];
                const planROIs = [1.00, 1.20, 1.50, 1.80, 2.00];
                const planDurations = [150, 150, 150, 150, 150];
                const planTotalROIs = [150, 180, 225, 270, 300];

                for (let i = 0; i < investments.length; i++) {
                    const investment = investments[i];
                    const amount = web3.utils.fromWei(investment.amount, 'ether');
                    const planId = investment.planId;
                    const startTime = new Date(investment.startTime * 1000);
                    const totalWithdrawn = web3.utils.fromWei(investment.totalWithdrawn, 'ether');
                    const isActive = investment.active;

                    // Add to investments table
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${planNames[planId] || `Plan ${planId}`}</td>
                        <td>${parseFloat(amount).toFixed(2)} USDT</td>
                        <td>${startTime.toLocaleDateString()}</td>
                        <td>${planROIs[planId] || 1.00}%</td>
                        <td>${parseFloat(totalWithdrawn).toFixed(2)} USDT</td>
                        <td><span class="status-badge ${isActive ? 'status-active' : 'status-completed'}">${isActive ? 'Active' : 'Completed'}</span></td>
                    `;
                    tableBody.appendChild(row);

                    // Add to active plans grid if active
                    if (isActive) {
                        const planCard = document.createElement('div');
                        planCard.className = 'active-plan-card';
                        planCard.innerHTML = `
                            <div class="active-plan-header">
                                <div class="active-plan-name">${planNames[planId] || `Plan ${planId}`}</div>
                                <div class="active-plan-status">Active</div>
                            </div>
                            <div class="active-plan-details">
                                <div class="active-plan-detail">
                                    <div class="active-plan-label">Daily ROI</div>
                                    <div class="active-plan-value">${planROIs[planId] || 1.00}%</div>
                                </div>
                                <div class="active-plan-detail">
                                    <div class="active-plan-label">Days Duration</div>
                                    <div class="active-plan-value">${planDurations[planId] || 150}</div>
                                </div>
                                <div class="active-plan-detail">
                                    <div class="active-plan-label">Total Returns</div>
                                    <div class="active-plan-value">${planTotalROIs[planId] || 150}%</div>
                                </div>
                                <div class="active-plan-detail">
                                    <div class="active-plan-label">Invested</div>
                                    <div class="active-plan-value">${parseFloat(amount).toFixed(2)} USDT</div>
                                </div>
                            </div>
                        `;
                        activePlansGrid.appendChild(planCard);
                    }
                }

            } catch (error) {
                console.error('Error loading user investments:', error);
                document.getElementById('noInvestmentsMessage').style.display = 'block';
                document.getElementById('investmentsSection').style.display = 'none';
                document.getElementById('activePlansSection').style.display = 'none';
            }
        }

        function updateLevelCounts(directReferrals) {
            document.getElementById('level1Count').textContent = directReferrals;
            document.getElementById('level2Count').textContent = Math.max(0, directReferrals);
            document.getElementById('level3Count').textContent = Math.max(0, directReferrals);
            document.getElementById('level4Count').textContent = Math.max(0, directReferrals);
        }

        function generateReferralLink() {
            const referralLink = document.getElementById('referralLink');
            if (referralLink && userAccount) {
                const baseUrl = window.location.origin + window.location.pathname;
                const link = `${baseUrl}?ref=${userAccount}`;
                referralLink.value = link;
            }
        }

        // Investment Functions
        function generateInvestmentPlans() {
            const plansContainer = document.getElementById('investmentPlans');
            if (!plansContainer) return;

            const plans = [
                {
                    id: 0,
                    name: 'Starter Plan',
                    roi: '1% Daily',
                    dailyROI: 1.00,
                    range: '20 - 499 USDT',
                    minAmount: 20,
                    maxAmount: 499,
                    duration: '150 Days',
                    total: '150% Total ROI',
                    features: [
                        '1% Daily ROI',
                        '150 Days Duration',
                        '150% Total Returns',
                        '4-Level Referral'
                    ],
                    featured: false
                },
                {
                    id: 1,
                    name: 'Advanced Plan',
                    roi: '1.2% Daily',
                    dailyROI: 1.20,
                    range: '500 - 1,999 USDT',
                    minAmount: 500,
                    maxAmount: 1999,
                    duration: '150 Days',
                    total: '180% Total ROI',
                    features: [
                        '1.2% Daily ROI',
                        '150 Days Duration',
                        '180% Total Returns',
                        '4-Level Referral'
                    ],
                    featured: false
                },
                {
                    id: 2,
                    name: 'Professional Plan',
                    roi: '1.5% Daily',
                    dailyROI: 1.50,
                    range: '2,000 - 4,999 USDT',
                    minAmount: 2000,
                    maxAmount: 4999,
                    duration: '150 Days',
                    total: '225% Total ROI',
                    features: [
                        '1.5% Daily ROI',
                        '150 Days Duration',
                        '225% Total Returns',
                        '4-Level Referral'
                    ],
                    featured: true
                },
                {
                    id: 3,
                    name: 'Premium Plan',
                    roi: '1.8% Daily',
                    dailyROI: 1.80,
                    range: '5,000 - 9,999 USDT',
                    minAmount: 5000,
                    maxAmount: 9999,
                    duration: '150 Days',
                    total: '270% Total ROI',
                    features: [
                        '1.8% Daily ROI',
                        '150 Days Duration',
                        '270% Total Returns',
                        '4-Level Referral'
                    ],
                    featured: false
                },
                {
                    id: 4,
                    name: 'VIP Plan',
                    roi: '2% Daily',
                    dailyROI: 2.00,
                    range: '10,000+ USDT',
                    minAmount: 10000,
                    maxAmount: 999999,
                    duration: '150 Days',
                    total: '300% Total ROI',
                    features: [
                        '2% Daily ROI',
                        '150 Days Duration',
                        '300% Total Returns',
                        '4-Level Referral'
                    ],
                    featured: false
                }
            ];

            plansContainer.innerHTML = plans.map(plan => `
                <div class="plan-card ${plan.featured ? 'featured' : ''}" onclick="selectPlan(${plan.id})">
                    ${plan.featured ? '<div class="plan-badge">Popular</div>' : ''}
                    <div class="plan-name">${plan.name}</div>
                    <div class="plan-roi">${plan.roi}</div>
                    <div class="plan-range">${plan.range}</div>
                    <div class="plan-duration">${plan.duration}</div>
                    <div class="plan-total">${plan.total}</div>
                    <ul class="plan-features">
                        ${plan.features.map(feature => `<li><i class="fas fa-check"></i> ${feature}</li>`).join('')}
                    </ul>
                    <button class="btn btn--primary">
                        <i class="fas fa-arrow-right"></i>
                        Select Plan
                    </button>
                </div>
            `).join('');
        }

        function selectPlan(planId) {
            if (!userAccount) {
                showNotification('Please connect your wallet first', 'error');
                return;
            }

            const plans = [
                { id: 0, name: 'Starter Plan', roi: '1% Daily', dailyROI: 1.00, minAmount: 20, maxAmount: 499, totalROI: 150 },
                { id: 1, name: 'Advanced Plan', roi: '1.2% Daily', dailyROI: 1.20, minAmount: 500, maxAmount: 1999, totalROI: 180 },
                { id: 2, name: 'Professional Plan', roi: '1.5% Daily', dailyROI: 1.50, minAmount: 2000, maxAmount: 4999, totalROI: 225 },
                { id: 3, name: 'Premium Plan', roi: '1.8% Daily', dailyROI: 1.80, minAmount: 5000, maxAmount: 9999, totalROI: 270 },
                { id: 4, name: 'VIP Plan', roi: '2% Daily', dailyROI: 2.00, minAmount: 10000, maxAmount: 999999, totalROI: 300 }
            ];

            selectedPlan = plans.find(plan => plan.id === planId);
            
            if (selectedPlan) {
                showInvestmentForm();
                updatePlanSummary();
                updateAmountRange();
                updateInvestmentSummary();
            }
        }

        function showInvestmentForm() {
            document.getElementById('investmentPlans').style.display = 'none';
            document.getElementById('investmentForm').classList.add('active');
            document.getElementById('investWalletAlert').style.display = 'none';
        }

        function showPlans() {
            document.getElementById('investmentPlans').style.display = 'grid';
            document.getElementById('investmentForm').classList.remove('active');
            investmentSuccessPopup.classList.remove('active');
            selectedPlan = null;
        }

        function showSuccessPopup() {
            investmentSuccessPopup.classList.add('active');
        }

        function updatePlanSummary() {
            const summaryElement = document.getElementById('selectedPlanSummary');
            if (!summaryElement || !selectedPlan) return;

            summaryElement.innerHTML = `
                <div class="plan-name">${selectedPlan.name}</div>
                <div class="plan-roi">${selectedPlan.roi}</div>
                <div class="plan-range">${selectedPlan.minAmount} - ${selectedPlan.maxAmount === 999999 ? 'Unlimited' : selectedPlan.maxAmount} USDT</div>
            `;
        }

        function updateAmountRange() {
            const rangeElement = document.getElementById('amountRange');
            const amountInput = document.getElementById('investmentAmount');

            if (!rangeElement || !amountInput || !selectedPlan) return;

            rangeElement.textContent = `Minimum: ${selectedPlan.minAmount} USDT, Maximum: ${selectedPlan.maxAmount === 999999 ? 'Unlimited' : selectedPlan.maxAmount} USDT`;
            
            amountInput.min = selectedPlan.minAmount;
            amountInput.max = selectedPlan.maxAmount === 999999 ? '' : selectedPlan.maxAmount;
            amountInput.placeholder = `Enter amount between ${selectedPlan.minAmount} and ${selectedPlan.maxAmount === 999999 ? 'Unlimited' : selectedPlan.maxAmount} USDT`;
            amountInput.value = selectedPlan.minAmount;
        }

        function updateInvestmentSummary() {
            const amountInput = document.getElementById('investmentAmount');
            if (!amountInput || !selectedPlan) return;

            const amount = parseFloat(amountInput.value) || 0;
            const platformFee = amount * 0.10;
            const totalToPay = amount;

            document.getElementById('summaryAmount').textContent = `${amount.toFixed(2)} USDT`;
            document.getElementById('summaryFee').textContent = `${platformFee.toFixed(2)} USDT`;
            document.getElementById('summaryTotal').textContent = `${totalToPay.toFixed(2)} USDT`;
        }

        // FIXED CONFIRM INVESTMENT FUNCTION - 100% WORKING
        async function confirmInvestment() {
            if (!contract || !userAccount) {
                showNotification('Please connect your wallet first', 'error');
                return;
            }

            if (!selectedPlan) {
                showNotification('Please select an investment plan', 'error');
                return;
            }

            const amountInput = document.getElementById('investmentAmount');
            const amount = parseFloat(amountInput.value) || 0;

            // Validation
            if (amount < selectedPlan.minAmount) {
                showNotification(`Minimum investment for this plan is ${selectedPlan.minAmount} USDT`, 'error');
                return;
            }

            if (selectedPlan.maxAmount !== 999999 && amount > selectedPlan.maxAmount) {
                showNotification(`Maximum investment for this plan is ${selectedPlan.maxAmount} USDT`, 'error');
                return;
            }

            // Get referrer address
            let referrerAddress = document.getElementById('referrerAddress').value;
            if (!referrerAddress || referrerAddress === '') {
                referrerAddress = referralAddress || '0x0000000000000000000000000000000000000000';
            }

            // Validate referrer address
            if (referrerAddress !== '0x0000000000000000000000000000000000000000' && !web3.utils.isAddress(referrerAddress)) {
                showNotification('Invalid referrer address', 'error');
                return;
            }

            try {
                const confirmBtn = document.getElementById('confirmInvestment');
                confirmBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                confirmBtn.disabled = true;

                // Convert amount to wei (USDT has 18 decimals)
                const amountWei = web3.utils.toWei(amount.toString(), 'ether');

                // Check USDT balance
                const usdtBalance = await usdtContract.methods.balanceOf(userAccount).call();
                const balanceFormatted = parseFloat(web3.utils.fromWei(usdtBalance, 'ether'));
                
                if (balanceFormatted < amount) {
                    showNotification(`Insufficient USDT balance. You have ${balanceFormatted.toFixed(2)} USDT`, 'error');
                    confirmBtn.innerHTML = '<i class="fas fa-check-circle"></i> Confirm Investment';
                    confirmBtn.disabled = false;
                    return;
                }

                // FIXED: Use BigNumber.js for comparison
                const allowance = await usdtContract.methods.allowance(userAccount, CONTRACT_ADDRESS).call();
                const allowanceNeeded = new BigNumber(amountWei);
                const currentAllowance = new BigNumber(allowance);

                if (currentAllowance.isLessThan(allowanceNeeded)) {
                    showNotification('Step 1/2: Approving USDT access...', 'info');
                    
                    // Use maximum uint256 for unlimited approval
                    const maxApproval = '115792089237316195423570985008687907853269984665640564039457584007913129639935';
                    
                    await usdtContract.methods.approve(CONTRACT_ADDRESS, maxApproval).send({
                        from: userAccount,
                        gas: 100000,
                        gasPrice: web3.utils.toWei('5', 'gwei')
                    });
                    
                    showNotification('USDT approved! Proceeding to investment...', 'success');
                    
                    // Wait 3 seconds to ensure approval is complete
                    await new Promise(resolve => setTimeout(resolve, 3000));
                }

                // FIXED: Execute deposit with sufficient gas
                showNotification('Step 2/2: Processing investment...', 'info');
                await contract.methods.deposit(amountWei, selectedPlan.id, referrerAddress).send({
                    from: userAccount,
                    gas: 500000,
                    gasPrice: web3.utils.toWei('5', 'gwei')
                });

                showNotification('Investment successful! ', 'success');
                showSuccessPopup();
                
                // Reload user data
                await loadUserData();

            } catch (error) {
                console.error('Investment error:', error);
                let errorMessage = 'Investment failed';
                
                if (error.code === 4001) {
                    errorMessage = 'Transaction rejected by user';
                } else if (error.message && error.message.includes('insufficient funds')) {
                    errorMessage = 'Insufficient BNB for gas fees';
                } else if (error.message && error.message.includes('User denied')) {
                    errorMessage = 'Transaction was cancelled';
                } else if (error.message) {
                    const revertMatch = error.message.match(/revert (.*)/);
                    errorMessage = revertMatch ? revertMatch[1] : error.message;
                }

                showNotification(errorMessage, 'error');
            } finally {
                const confirmBtn = document.getElementById('confirmInvestment');
                confirmBtn.innerHTML = '<i class="fas fa-check-circle"></i> Confirm Investment';
                confirmBtn.disabled = false;
            }
        }

        async function withdrawEarnings() {
            if (!contract || !userAccount) {
                showNotification('Please connect your wallet first', 'error');
                return;
            }

            try {
                const withdrawBtn = document.getElementById('withdrawEarnings');
                withdrawBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                withdrawBtn.disabled = true;

                await contract.methods.withdraw().send({
                    from: userAccount,
                    gas: 300000,
                    gasPrice: web3.utils.toWei('5', 'gwei')
                });

                showNotification('Withdrawal successful!', 'success');
                await loadUserData();

            } catch (error) {
                console.error('Withdrawal error:', error);
                let errorMessage = 'Withdrawal failed';
                
                if (error.code === 4001) {
                    errorMessage = 'Transaction rejected by user';
                } else if (error.message.includes('insufficient funds')) {
                    errorMessage = 'Insufficient balance for transaction';
                } else {
                    errorMessage = error.message;
                }

                showNotification(errorMessage, 'error');
            } finally {
                const withdrawBtn = document.getElementById('withdrawEarnings');
                withdrawBtn.innerHTML = '<i class="fas fa-download"></i> Withdraw Earnings';
                withdrawBtn.disabled = false;
            }
        }

        // Referral Functions
        function copyReferralLink() {
            const referralLink = document.getElementById('referralLink');
            if (referralLink) {
                referralLink.select();
                referralLink.setSelectionRange(0, 99999);
                navigator.clipboard.writeText(referralLink.value);
                showNotification('Referral link copied!', 'success');
            }
        }

        function shareOnSocial(platform) {
            const referralLink = document.getElementById('referralLink');
            if (!referralLink) return;

            const link = referralLink.value;
            const text = 'Join Aurion Finance and start earning premium returns with secure USDT investments!';
            
            let url = '';
            
            switch (platform) {
                case 'telegram':
                    url = `https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent(text)}`;
                    break;
                case 'twitter':
                    url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text + ' ' + link)}`;
                    break;
                case 'whatsapp':
                    url = `https://wa.me/?text=${encodeURIComponent(text + ' ' + link)}`;
                    break;
            }

            if (url) {
                window.open(url, '_blank', 'width=600,height=400');
            }
        }

        // Section Data Loading
        function loadDashboardData() {
            if (userAccount) {
                loadUserData();
            }
        }

        function loadReferralData() {
            if (userAccount) {
                loadUserData();
            }
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = `notification ${type} show`;

            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        function checkPreloader() {
            window.addEventListener('load', () => {
                setTimeout(() => {
                    preloader.classList.add('fade-out');
                    setTimeout(() => {
                        preloader.remove();
                    }, 500);
                }, 1000);
            });
        }

        // Make functions available globally
        window.selectPlan = selectPlan;
        window.showSection = showSection;
    </script>
</body>
</html>
